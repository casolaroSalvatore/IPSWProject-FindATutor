<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="logic.control.graphiccontrol.colored.ManageNoticeBoardGraphicControllerColored">

    <!-- 1) Barra blu in alto, full‑width -->
    <Pane prefHeight="60.0" style="-fx-background-color:#0e3aa1;" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" />

    <!-- Logo a sinistra -->
    <Label prefHeight="60.0" prefWidth="96.0" text="FindATutor" textFill="WHITE" AnchorPane.leftAnchor="14.0" AnchorPane.topAnchor="0.0">
        <font><Font name="System Bold" size="18" /></font>
    </Label>

    <!-- 2) SignUp / LogIn / LogOut in alto a destra -->
    <HBox alignment="CENTER_RIGHT" prefHeight="60.0" prefWidth="126.0" spacing="10" AnchorPane.rightAnchor="11.0" AnchorPane.topAnchor="0.0">
        <Button fx:id="signUpButton" onAction="#goToSignUp" text="Sign up" />
        <Button fx:id="logInButton" onAction="#goToLogin" prefHeight="26.0" prefWidth="59.0" text="Log In" />
    </HBox>
    <Button fx:id="logOutButton" layoutY="16.0" onAction="#handleLogOut" prefHeight="26.0" prefWidth="59.0" text="Log Out" visible="false" AnchorPane.rightAnchor="11.0" AnchorPane.topAnchor="16.0" />

    <!-- Messaggio di benvenuto -->
    <Label fx:id="welcomeLabel" alignment="CENTER_RIGHT" contentDisplay="RIGHT" prefHeight="20.0" prefWidth="232.0" textAlignment="RIGHT" textFill="WHITE" visible="false" AnchorPane.rightAnchor="110.0" AnchorPane.topAnchor="20.0">
        <font><Font size="14" /></font>
    </Label>

    <!-- 3) HBox con tre pulsanti, full‑width e centrato -->
    <HBox alignment="CENTER" layoutX="-4.0" layoutY="83.0" prefHeight="34.0" prefWidth="1030.0" spacing="20" AnchorPane.leftAnchor="-4.0" AnchorPane.rightAnchor="-1.599999999999909" AnchorPane.topAnchor="83.0">
        <Button prefWidth="250.0" text="Return to Home">
            <graphic><ImageView fitHeight="26" fitWidth="26"><Image url="@../images/home.png" /></ImageView></graphic>
        </Button>

        <Button fx:id="manageNoticeBoardButton" prefWidth="250.0" text="Manage Notice Board">
            <graphic><ImageView fitHeight="26" fitWidth="26"><Image url="@../images/modify-calendar.png" /></ImageView></graphic>
        </Button>

        <Button fx:id="leaveASharedReviewButton" onAction="#goToLeaveASharedReview" prefWidth="250.0" text="Leave a Shared Review">
            <graphic><ImageView fitHeight="26" fitWidth="26"><Image url="@../images/review.png" /></ImageView></graphic>
        </Button>
    </HBox>

    <!-- ───────── CONTENUTO PRINCIPALE (da 140 px in giù) ───────── -->
    <HBox spacing="20" style="-fx-padding:20;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="140">

        <!-- ◂ COLONNA SINISTRA: CALENDARIO -->
        <VBox alignment="CENTER" prefWidth="480" spacing="20">
            <padding>
                <Insets left="30" top="30" />
            </padding>

            <!-- Barra mese + frecce -->
            <HBox fx:id="monthNavigationBar" alignment="CENTER" spacing="10">
                <Button fx:id="prevMonthButton" onAction="#prevMonth" text="&lt;&lt;Prev" />
                <Label fx:id="monthLabel" alignment="CENTER" prefWidth="160" />
                <Button fx:id="nextMonthButton" onAction="#nextMonth" text="Next&gt;&gt;" />
            </HBox>

            <!-- Griglia giorni -->
            <GridPane fx:id="calendarGrid" hgap="10" vgap="10">
                <!-- Header dei giorni della settimana -->
                <children>
                    <Label text="Sun" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <Label text="Mon" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                    <Label text="Tue" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                    <Label text="Wed" GridPane.columnIndex="3" GridPane.rowIndex="0" />
                    <Label text="Thu" GridPane.columnIndex="4" GridPane.rowIndex="0" />
                    <Label text="Fri" GridPane.columnIndex="5" GridPane.rowIndex="0" />
                    <Label text="Sat" GridPane.columnIndex="6" GridPane.rowIndex="0" />
                </children>
            <columnConstraints>
               <ColumnConstraints />
               <ColumnConstraints />
               <ColumnConstraints />
               <ColumnConstraints />
               <ColumnConstraints />
               <ColumnConstraints />
               <ColumnConstraints />
            </columnConstraints>
            <rowConstraints>
               <RowConstraints />
            </rowConstraints>
                <!-- le altre righe vengono popolate dal controller -->
            </GridPane>
        </VBox>

        <!-- ◂ COLONNA DESTRA: DETTAGLIO / TABELLA / BOTTONI -->
        <VBox spacing="7.5" HBox.hgrow="ALWAYS">

            <!-- Pane dinamico che il controller riempie -->
            <AnchorPane fx:id="bookingSessionPane" minHeight="300" prefHeight="450" VBox.vgrow="ALWAYS" />
            <HBox alignment="CENTER" prefWidth="486.0">
                <Label style="-fx-font-size:16px; -fx-font-weight:bold;" text="Modify / Delete Sessions" textAlignment="CENTER" />
            </HBox>

            <!-- Tabella sessioni del giorno -->
            <TableView fx:id="daySessionTable" prefHeight="250" VBox.vgrow="ALWAYS">
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
                <columns>
                    <TableColumn fx:id="dayUserColumn" text="Tutor" />
                    <TableColumn fx:id="daySubjectColumn" text="Subject" />
                    <TableColumn fx:id="dayTimeColumn" text="Time" />
                </columns>
            </TableView>

            <!-- Bottoni modifica / cancellazione -->
            <HBox alignment="CENTER" prefWidth="486.0" spacing="20">
                <Button fx:id="requestModificationButton" onAction="#handleRequestModification" text="Modify Tutoring Session" />
                <Button fx:id="requestCancellationButton" onAction="#handleRequestCancellation" text="Delete Tutoring Session" />
            </HBox>

        </VBox>
    </HBox>

</AnchorPane>
