<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="864.0" prefWidth="1536.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="logic.control.graphiccontrol.colored.LeaveASharedReviewGraphicControllerColored">

    <!-- 1) Barra blu in alto, full-width -->
    <Rectangle arcHeight="5" arcWidth="5" fill="#0e3aa1" height="60" stroke="BLACK" strokeType="INSIDE" strokeWidth="0" width="1536.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="37.0" AnchorPane.topAnchor="0.0" />

    <!-- Logo a sinistra -->
    <Label text="FindATutor" textFill="WHITE" AnchorPane.leftAnchor="14" AnchorPane.topAnchor="14">
        <font><Font name="System Bold" size="18" /></font>
    </Label>

    <!-- 2) SignUp / LogIn / LogOut in alto a destra -->
    <HBox alignment="CENTER_RIGHT" layoutX="1322.4" layoutY="15.2" prefHeight="26.0" prefWidth="200.0" spacing="10">
        <Button fx:id="signUpButton" mnemonicParsing="false" text="Sign up" />
        <Button fx:id="logInButton" mnemonicParsing="false" prefHeight="26" prefWidth="54" text="Log In" />
    </HBox>
    <Button fx:id="logOutButton" layoutX="1452.0" layoutY="16.0" mnemonicParsing="false" onAction="#handleLogOut" prefHeight="26" prefWidth="69.0" text="Log Out" visible="false" />

    <!-- Messaggio di benvenuto -->
    <Label fx:id="welcomeLabel" alignment="CENTER_RIGHT" layoutX="1099.0" layoutY="20.0" prefHeight="20.0" prefWidth="300.0" textAlignment="RIGHT" textFill="WHITE" visible="false">
        <font><Font size="14" /></font>
    </Label>

    <!-- 3) HBox con tre pulsanti, centrato orizzontalmente -->
    <HBox alignment="CENTER" prefHeight="47.0" prefWidth="1536.0" spacing="20" style="-fx-border-width:2; -fx-background-radius:8; -fx-border-radius:8; -fx-padding:6;" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="70.0">
        <Button mnemonicParsing="false" onAction="#goToHome" prefHeight="34" prefWidth="276" text="Return to Home">
            <graphic>
                <ImageView fitHeight="26" fitWidth="26"><Image url="@../images/home.png" /></ImageView>
            </graphic>
        </Button>
        <Button fx:id="manageNoticeBoardButton" mnemonicParsing="false" onAction="#goToManageNoticeBoard" prefHeight="34" prefWidth="276" text="Manage Notice Board">
            <graphic>
                <ImageView fitHeight="26" fitWidth="26"><Image url="@../images/modify-calendar.png" /></ImageView>
            </graphic>
        </Button>
        <Button fx:id="leaveASharedReviewButton" mnemonicParsing="false" prefHeight="34" prefWidth="276" text="Leave a Shared Review">
            <graphic>
                <ImageView fitHeight="26" fitWidth="26"><Image url="@../images/review.png" /></ImageView>
            </graphic>
        </Button>
    </HBox>

        <!-- *************************** STUDENT PANE *************************** -->
        <AnchorPane fx:id="studentPane" layoutX="15.0" layoutY="124.0" prefHeight="718.0" prefWidth="1511.0">
                <Label layoutX="14.0" layoutY="10.0" text="Student side" />

                <TableView fx:id="studentTable" layoutX="14.0" layoutY="35.0" onMouseClicked="#handleStudentTableClick" prefHeight="200.0" prefWidth="400.0">
                    <columns>
                        <TableColumn fx:id="tutorInfoColumnStudent" text="Tutor" />
                        <TableColumn fx:id="tutorSubjectColumnStudent" text="Subject" />
                        <TableColumn fx:id="tutorLocationColumnStudent" text="Location" />
                        <TableColumn fx:id="statusColumnStudent" text="Status" />
                    </columns>
                </TableView>

                <!-- Form per compilare la parte STUDENTE -->
                <VBox fx:id="studentReviewForm" layoutX="859.0" layoutY="35.0" prefHeight="212.0" prefWidth="630.0" spacing="5">
                        <Label text="Student Title:" />
                        <TextField fx:id="studentReviewTitle" />

                        <Label text="Stars:" />
                        <HBox fx:id="starContainer" alignment="CENTER" spacing="5">
                            <ImageView fx:id="star1" fitHeight="24" fitWidth="24" />
                            <ImageView fx:id="star2" fitHeight="24" fitWidth="24" />
                            <ImageView fx:id="star3" fitHeight="24" fitWidth="24" />
                            <ImageView fx:id="star4" fitHeight="24" fitWidth="24" />
                            <ImageView fx:id="star5" fitHeight="24" fitWidth="24" />
                        </HBox>

                        <Label text="Comment:" />
                        <TextArea fx:id="studentReviewComment" prefRowCount="2" prefWidth="386.0" wrapText="true" />

                        <Button onAction="#handleStudentSubmit" text="Submit Student Review" />
                </VBox>

                <!-- Box in basso per VEDERE la recensione COMPLETATA, solo se COMPLETED -->
            <HBox fx:id="studentCompletedBox" layoutY="350.0" managed="false" spacing="20" style="-fx-border-color: #cccccc; -fx-padding: 10;" visible="false" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

                    <!-- Parte lasciata dallo studente -->
                <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label style="-fx-font-weight: bold;" text="Your Review" />
                        <Label text="Title:" />
                        <TextField fx:id="studentCompletedTitle" editable="false" />
                        <Label text="Stars:" />
                        <HBox fx:id="studentCompletedStarsBox" spacing="4" />
                        <Label text="Comment:" />
                        <TextArea fx:id="studentCompletedComment" editable="false" prefRowCount="3" wrapText="true" />
                    </VBox>

                    <!-- Parte ricevuta dal tutor -->
                <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label style="-fx-font-weight: bold;" text="Review from Tutor" />
                        <Label text="Title:" />
                        <TextField fx:id="studentCompletedTutorTitle" editable="false" />
                        <Label text="Comment:" />
                        <TextArea fx:id="studentCompletedTutorComment" editable="false" prefRowCount="3" wrapText="true" />
                    </VBox>
                </HBox>
        </AnchorPane>

                    <!-- ************************** TUTOR PANE ************************** -->
        <AnchorPane fx:id="tutorPane" layoutX="15.0" layoutY="124.0" prefHeight="718.0" prefWidth="1511.0">
                <Label layoutX="14.0" layoutY="10.0" text="Tutor side" />

                            <TableView fx:id="tutorTable" layoutX="14.0" layoutY="35.0" onMouseClicked="#handleTutorTableClick" prefHeight="254.0" prefWidth="606.0">
                    <columns>
                        <TableColumn fx:id="studentInfoColumnTutor" text="Student" />
                        <TableColumn fx:id="studentSubjectColumnTutor" text="Subject" />
                        <TableColumn fx:id="studentLocationColumnTutor" text="Location" />
                        <TableColumn fx:id="statusColumnTutor" text="Status" />
                    </columns>
                </TableView>

                            <VBox fx:id="tutorReviewForm" layoutX="859.0" layoutY="35.0" prefHeight="162.0" prefWidth="630.0" spacing="5">
                        <Label text="Tutor Title:" />
                        <TextField fx:id="tutorReviewTitle" />

                                    <Label text="Tutor Comment:" />
                        <TextArea fx:id="tutorReviewComment" prefRowCount="2" wrapText="true" />

                                    <Button onAction="#handleTutorSubmit" text="Submit Tutor Review" />
                </VBox>

            <HBox fx:id="tutorCompletedBox" layoutY="350.0" managed="false" spacing="20" style="-fx-border-color: #cccccc; -fx-padding: 10;" visible="false" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

                                <!-- Parte lasciata dal tutor -->
                <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label style="-fx-font-weight: bold;" text="Your Review" />
                        <Label text="Title:" />
                        <TextField fx:id="tutorCompletedTitle" editable="false" />
                        <Label text="Comment:" />
                        <TextArea fx:id="tutorCompletedComment" editable="false" prefRowCount="3" wrapText="true" />
                    </VBox>

                                <!-- Parte ricevuta dallo studente -->
                <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label style="-fx-font-weight: bold;" text="Review from Student" />
                        <Label text="Title:" />
                        <TextField fx:id="tutorCompletedStudentTitle" editable="false" />
                        <Label text="Stars:" />
                        <HBox fx:id="tutorCompletedStudentStarsBox" spacing="4" />
                        <Label text="Comment:" />
                        <TextArea fx:id="tutorCompletedStudentComment" editable="false" prefRowCount="3" wrapText="true" />
                    </VBox>
                </HBox>
        </AnchorPane>
</AnchorPane>
